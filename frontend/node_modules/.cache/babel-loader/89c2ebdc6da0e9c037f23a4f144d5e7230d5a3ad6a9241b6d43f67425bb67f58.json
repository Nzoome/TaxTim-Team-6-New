{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Baloyi PA\\\\Desktop\\\\TaxTim-Team-6-New\\\\TaxTim-Team-6-New\\\\frontend\\\\src\\\\components\\\\Charts.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport './Charts.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Charts = ({\n  transactions,\n  summary\n}) => {\n  _s();\n  const formatCurrency = value => {\n    return new Intl.NumberFormat('en-ZA', {\n      style: 'currency',\n      currency: 'ZAR',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(value);\n  };\n\n  // Format large numbers for chart axes (billions, millions, thousands)\n  const formatAxisCurrency = value => {\n    if (value >= 1000000000) {\n      return `R${(value / 1000000000).toFixed(1)}B`;\n    } else if (value >= 1000000) {\n      return `R${(value / 1000000).toFixed(1)}M`;\n    } else if (value >= 1000) {\n      return `R${(value / 1000).toFixed(0)}K`;\n    }\n    return `R${value.toFixed(0)}`;\n  };\n\n  // Prepare data for gains/losses by asset\n  const assetData = React.useMemo(() => {\n    const assetMap = new Map();\n    transactions.forEach(tx => {\n      if (tx.type === 'SELL' || tx.type === 'TRADE_SELL') {\n        const currency = tx.currency;\n        const gain = tx.capitalGain || 0;\n        if (!assetMap.has(currency)) {\n          assetMap.set(currency, {\n            asset: currency,\n            gains: 0,\n            losses: 0,\n            netGain: 0\n          });\n        }\n        const data = assetMap.get(currency);\n        if (gain >= 0) {\n          data.gains += gain;\n        } else {\n          data.losses += Math.abs(gain);\n        }\n        data.netGain += gain;\n      }\n    });\n    return Array.from(assetMap.values()).sort((a, b) => b.netGain - a.netGain);\n  }, [transactions]);\n\n  // Prepare data for gains/losses by tax year\n  const taxYearData = React.useMemo(() => {\n    const yearMap = new Map();\n    transactions.forEach(tx => {\n      if (tx.type === 'SELL' || tx.type === 'TRADE_SELL') {\n        const year = tx.taxYear || 'Unknown';\n        const gain = tx.capitalGain || 0;\n        if (!yearMap.has(year)) {\n          yearMap.set(year, {\n            taxYear: year,\n            gains: 0,\n            losses: 0,\n            netGain: 0\n          });\n        }\n        const data = yearMap.get(year);\n        if (gain >= 0) {\n          data.gains += gain;\n        } else {\n          data.losses += Math.abs(gain);\n        }\n        data.netGain += gain;\n      }\n    });\n    return Array.from(yearMap.values()).sort((a, b) => {\n      if (a.taxYear === 'Unknown') return 1;\n      if (b.taxYear === 'Unknown') return -1;\n      return a.taxYear.localeCompare(b.taxYear);\n    });\n  }, [transactions]);\n\n  // Prepare donut chart data for overall distribution\n  const distributionData = [{\n    name: 'Capital Gains',\n    value: summary.totalCapitalGain,\n    color: '#48bb78'\n  }, {\n    name: 'Capital Losses',\n    value: summary.totalCapitalLoss,\n    color: '#f56565'\n  }].filter(item => item.value > 0);\n\n  // Prepare transaction type distribution\n  const typeData = React.useMemo(() => {\n    const typeMap = new Map();\n    transactions.forEach(tx => {\n      const type = tx.type;\n      if (!typeMap.has(type)) {\n        typeMap.set(type, {\n          type,\n          count: 0\n        });\n      }\n      typeMap.get(type).count++;\n    });\n    return Array.from(typeMap.values());\n  }, [transactions]);\n  const COLORS = ['#48bb78', '#f56565', '#4299e1', '#ed8936', '#9f7aea', '#38b2ac'];\n  const CustomTooltip = ({\n    active,\n    payload,\n    label\n  }) => {\n    if (active && payload && payload.length) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-tooltip\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"tooltip-label\",\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), payload.map((entry, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: entry.color\n          },\n          children: [entry.name, \": \", formatCurrency(entry.value)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  const CustomPieTooltip = ({\n    active,\n    payload\n  }) => {\n    if (active && payload && payload.length) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-tooltip\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"tooltip-label\",\n          children: payload[0].name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: payload[0].payload.color\n          },\n          children: formatCurrency(payload[0].value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  if (!transactions || transactions.length === 0) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"charts-header\",\n      children: \"Visual Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"charts-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-legend-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Chart Legend & Insights\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"legend-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-category\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Capital Gains/Losses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot\",\n                style: {\n                  backgroundColor: '#48bb78'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Gains: \", formatCurrency(summary.totalCapitalGain)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot\",\n                style: {\n                  backgroundColor: '#f56565'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Losses: \", formatCurrency(summary.totalCapitalLoss)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-category\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Tax Year Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot\",\n                style: {\n                  backgroundColor: '#4299e1'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Year Gains\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot\",\n                style: {\n                  backgroundColor: '#ed8936'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Year Losses\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"legend-category\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot\",\n                style: {\n                  backgroundColor: '#9f7aea'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Taxable (40%): \", formatCurrency(summary.taxableCapitalGain)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"legend-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"legend-dot\",\n                style: {\n                  backgroundColor: '#38b2ac'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Total Transactions: \", transactions.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"charts-grid\",\n        children: [assetData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Gains/Losses by Asset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: assetData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#e2e8f0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"asset\",\n                stroke: \"#4a5568\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                stroke: \"#4a5568\",\n                tickFormatter: formatAxisCurrency,\n                domain: [50000, 200000000000],\n                scale: \"log\",\n                allowDataOverflow: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 35\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"gains\",\n                name: \"Gains\",\n                fill: \"#48bb78\",\n                radius: [8, 8, 0, 0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"losses\",\n                name: \"Losses\",\n                fill: \"#f56565\",\n                radius: [8, 8, 0, 0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), taxYearData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Gains/Losses by Tax Year\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: taxYearData,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\",\n                stroke: \"#e2e8f0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"taxYear\",\n                stroke: \"#4a5568\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                stroke: \"#4a5568\",\n                tickFormatter: formatAxisCurrency,\n                domain: [50000, 200000000000],\n                scale: \"log\",\n                allowDataOverflow: false\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                content: /*#__PURE__*/_jsxDEV(CustomTooltip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 35\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"gains\",\n                name: \"Gains\",\n                fill: \"#4299e1\",\n                radius: [8, 8, 0, 0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"losses\",\n                name: \"Losses\",\n                fill: \"#ed8936\",\n                radius: [8, 8, 0, 0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), distributionData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Overall Gains vs Losses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(PieChart, {\n              children: [/*#__PURE__*/_jsxDEV(Pie, {\n                data: distributionData,\n                cx: \"50%\",\n                cy: \"50%\",\n                innerRadius: 60,\n                outerRadius: 100,\n                paddingAngle: 5,\n                dataKey: \"value\",\n                label: entry => `${entry.name}: ${formatCurrency(entry.value)}`,\n                labelLine: false,\n                children: distributionData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: entry.color\n                }, `cell-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                content: /*#__PURE__*/_jsxDEV(CustomPieTooltip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 35\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), typeData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Transaction Type Distribution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(PieChart, {\n              children: [/*#__PURE__*/_jsxDEV(Pie, {\n                data: typeData,\n                cx: \"50%\",\n                cy: \"50%\",\n                innerRadius: 60,\n                outerRadius: 100,\n                paddingAngle: 5,\n                dataKey: \"count\",\n                label: entry => `${entry.type}: ${entry.count}`,\n                children: typeData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: COLORS[index % COLORS.length]\n                }, `cell-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Charts, \"nLIBDM1lW24L1aFgVcX0YjfA+90=\");\n_c = Charts;\nexport default Charts;\nvar _c;\n$RefreshReg$(_c, \"Charts\");","map":{"version":3,"names":["React","BarChart","Bar","PieChart","Pie","Cell","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","jsxDEV","_jsxDEV","Fragment","_Fragment","Charts","transactions","summary","_s","formatCurrency","value","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatAxisCurrency","toFixed","assetData","useMemo","assetMap","Map","forEach","tx","type","gain","capitalGain","has","set","asset","gains","losses","netGain","data","get","Math","abs","Array","from","values","sort","a","b","taxYearData","yearMap","year","taxYear","localeCompare","distributionData","name","totalCapitalGain","color","totalCapitalLoss","filter","item","typeData","typeMap","count","COLORS","CustomTooltip","active","payload","label","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","entry","index","CustomPieTooltip","backgroundColor","taxableCapitalGain","width","height","strokeDasharray","stroke","dataKey","tickFormatter","domain","scale","allowDataOverflow","content","fill","radius","cx","cy","innerRadius","outerRadius","paddingAngle","labelLine","_c","$RefreshReg$"],"sources":["C:/Users/Baloyi PA/Desktop/TaxTim-Team-6-New/TaxTim-Team-6-New/frontend/src/components/Charts.js"],"sourcesContent":["import React from 'react';\r\nimport { BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport './Charts.css';\r\n\r\nconst Charts = ({ transactions, summary }) => {\r\n  const formatCurrency = (value) => {\r\n    return new Intl.NumberFormat('en-ZA', {\r\n      style: 'currency',\r\n      currency: 'ZAR',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(value);\r\n  };\r\n\r\n  // Format large numbers for chart axes (billions, millions, thousands)\r\n  const formatAxisCurrency = (value) => {\r\n    if (value >= 1000000000) {\r\n      return `R${(value / 1000000000).toFixed(1)}B`;\r\n    } else if (value >= 1000000) {\r\n      return `R${(value / 1000000).toFixed(1)}M`;\r\n    } else if (value >= 1000) {\r\n      return `R${(value / 1000).toFixed(0)}K`;\r\n    }\r\n    return `R${value.toFixed(0)}`;\r\n  };\r\n\r\n  // Prepare data for gains/losses by asset\r\n  const assetData = React.useMemo(() => {\r\n    const assetMap = new Map();\r\n\r\n    transactions.forEach(tx => {\r\n      if (tx.type === 'SELL' || tx.type === 'TRADE_SELL') {\r\n        const currency = tx.currency;\r\n        const gain = tx.capitalGain || 0;\r\n\r\n        if (!assetMap.has(currency)) {\r\n          assetMap.set(currency, {\r\n            asset: currency,\r\n            gains: 0,\r\n            losses: 0,\r\n            netGain: 0\r\n          });\r\n        }\r\n\r\n        const data = assetMap.get(currency);\r\n        if (gain >= 0) {\r\n          data.gains += gain;\r\n        } else {\r\n          data.losses += Math.abs(gain);\r\n        }\r\n        data.netGain += gain;\r\n      }\r\n    });\r\n\r\n    return Array.from(assetMap.values()).sort((a, b) => b.netGain - a.netGain);\r\n  }, [transactions]);\r\n\r\n  // Prepare data for gains/losses by tax year\r\n  const taxYearData = React.useMemo(() => {\r\n    const yearMap = new Map();\r\n\r\n    transactions.forEach(tx => {\r\n      if (tx.type === 'SELL' || tx.type === 'TRADE_SELL') {\r\n        const year = tx.taxYear || 'Unknown';\r\n        const gain = tx.capitalGain || 0;\r\n\r\n        if (!yearMap.has(year)) {\r\n          yearMap.set(year, {\r\n            taxYear: year,\r\n            gains: 0,\r\n            losses: 0,\r\n            netGain: 0\r\n          });\r\n        }\r\n\r\n        const data = yearMap.get(year);\r\n        if (gain >= 0) {\r\n          data.gains += gain;\r\n        } else {\r\n          data.losses += Math.abs(gain);\r\n        }\r\n        data.netGain += gain;\r\n      }\r\n    });\r\n\r\n    return Array.from(yearMap.values()).sort((a, b) => {\r\n      if (a.taxYear === 'Unknown') return 1;\r\n      if (b.taxYear === 'Unknown') return -1;\r\n      return a.taxYear.localeCompare(b.taxYear);\r\n    });\r\n  }, [transactions]);\r\n\r\n  // Prepare donut chart data for overall distribution\r\n  const distributionData = [\r\n    { name: 'Capital Gains', value: summary.totalCapitalGain, color: '#48bb78' },\r\n    { name: 'Capital Losses', value: summary.totalCapitalLoss, color: '#f56565' }\r\n  ].filter(item => item.value > 0);\r\n\r\n  // Prepare transaction type distribution\r\n  const typeData = React.useMemo(() => {\r\n    const typeMap = new Map();\r\n\r\n    transactions.forEach(tx => {\r\n      const type = tx.type;\r\n      if (!typeMap.has(type)) {\r\n        typeMap.set(type, { type, count: 0 });\r\n      }\r\n      typeMap.get(type).count++;\r\n    });\r\n\r\n    return Array.from(typeMap.values());\r\n  }, [transactions]);\r\n\r\n  const COLORS = ['#48bb78', '#f56565', '#4299e1', '#ed8936', '#9f7aea', '#38b2ac'];\r\n\r\n  const CustomTooltip = ({ active, payload, label }) => {\r\n    if (active && payload && payload.length) {\r\n      return (\r\n        <div className=\"custom-tooltip\">\r\n          <p className=\"tooltip-label\">{label}</p>\r\n          {payload.map((entry, index) => (\r\n            <p key={index} style={{ color: entry.color }}>\r\n              {entry.name}: {formatCurrency(entry.value)}\r\n            </p>\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const CustomPieTooltip = ({ active, payload }) => {\r\n    if (active && payload && payload.length) {\r\n      return (\r\n        <div className=\"custom-tooltip\">\r\n          <p className=\"tooltip-label\">{payload[0].name}</p>\r\n          <p style={{ color: payload[0].payload.color }}>\r\n            {formatCurrency(payload[0].value)}\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  if (!transactions || transactions.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h2 className=\"charts-header\">Visual Analytics</h2>\r\n      \r\n      <div className=\"charts-section\">\r\n        {/* Legend and Info Box */}\r\n        <div className=\"charts-legend-box\">\r\n          <div className=\"legend-header\">\r\n            <h4>Chart Legend & Insights</h4>\r\n          </div>\r\n          <div className=\"legend-content\">\r\n            <div className=\"legend-category\">\r\n              <h5>Capital Gains/Losses</h5>\r\n              <div className=\"legend-item\">\r\n                <span className=\"legend-dot\" style={{ backgroundColor: '#48bb78' }}></span>\r\n                <span>Gains: {formatCurrency(summary.totalCapitalGain)}</span>\r\n              </div>\r\n              <div className=\"legend-item\">\r\n                <span className=\"legend-dot\" style={{ backgroundColor: '#f56565' }}></span>\r\n                <span>Losses: {formatCurrency(summary.totalCapitalLoss)}</span>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"legend-category\">\r\n              <h5>Tax Year Analysis</h5>\r\n              <div className=\"legend-item\">\r\n                <span className=\"legend-dot\" style={{ backgroundColor: '#4299e1' }}></span>\r\n                <span>Year Gains</span>\r\n              </div>\r\n              <div className=\"legend-item\">\r\n                <span className=\"legend-dot\" style={{ backgroundColor: '#ed8936' }}></span>\r\n                <span>Year Losses</span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"legend-category\">\r\n              <h5>Summary</h5>\r\n              <div className=\"legend-item\">\r\n                <span className=\"legend-dot\" style={{ backgroundColor: '#9f7aea' }}></span>\r\n                <span>Taxable (40%): {formatCurrency(summary.taxableCapitalGain)}</span>\r\n              </div>\r\n              <div className=\"legend-item\">\r\n                <span className=\"legend-dot\" style={{ backgroundColor: '#38b2ac' }}></span>\r\n                <span>Total Transactions: {transactions.length}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"charts-grid\">\r\n        {/* Gains/Losses by Asset */}\r\n        {assetData.length > 0 && (\r\n          <div className=\"chart-card\">\r\n            <h3>Gains/Losses by Asset</h3>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <BarChart data={assetData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\r\n                <XAxis dataKey=\"asset\" stroke=\"#4a5568\" />\r\n                <YAxis \r\n                  stroke=\"#4a5568\" \r\n                  tickFormatter={formatAxisCurrency}\r\n                  domain={[50000, 200000000000]}\r\n                  scale=\"log\"\r\n                  allowDataOverflow={false}\r\n                />\r\n                <Tooltip content={<CustomTooltip />} />\r\n                <Legend />\r\n                <Bar dataKey=\"gains\" name=\"Gains\" fill=\"#48bb78\" radius={[8, 8, 0, 0]} />\r\n                <Bar dataKey=\"losses\" name=\"Losses\" fill=\"#f56565\" radius={[8, 8, 0, 0]} />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        )}\r\n\r\n        {/* Gains/Losses by Tax Year */}\r\n        {taxYearData.length > 0 && (\r\n          <div className=\"chart-card\">\r\n            <h3>Gains/Losses by Tax Year</h3>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <BarChart data={taxYearData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e2e8f0\" />\r\n                <XAxis dataKey=\"taxYear\" stroke=\"#4a5568\" />\r\n                <YAxis \r\n                  stroke=\"#4a5568\" \r\n                  tickFormatter={formatAxisCurrency}\r\n                  domain={[50000, 200000000000]}\r\n                  scale=\"log\"\r\n                  allowDataOverflow={false}\r\n                />\r\n                <Tooltip content={<CustomTooltip />} />\r\n                <Legend />\r\n                <Bar dataKey=\"gains\" name=\"Gains\" fill=\"#4299e1\" radius={[8, 8, 0, 0]} />\r\n                <Bar dataKey=\"losses\" name=\"Losses\" fill=\"#ed8936\" radius={[8, 8, 0, 0]} />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        )}\r\n\r\n        {/* Overall Gains vs Losses Donut */}\r\n        {distributionData.length > 0 && (\r\n          <div className=\"chart-card\">\r\n            <h3>Overall Gains vs Losses</h3>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={distributionData}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  innerRadius={60}\r\n                  outerRadius={100}\r\n                  paddingAngle={5}\r\n                  dataKey=\"value\"\r\n                  label={(entry) => `${entry.name}: ${formatCurrency(entry.value)}`}\r\n                  labelLine={false}\r\n                >\r\n                  {distributionData.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.color} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip content={<CustomPieTooltip />} />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        )}\r\n\r\n        {/* Transaction Type Distribution */}\r\n        {typeData.length > 0 && (\r\n          <div className=\"chart-card\">\r\n            <h3>Transaction Type Distribution</h3>\r\n            <ResponsiveContainer width=\"100%\" height={300}>\r\n              <PieChart>\r\n                <Pie\r\n                  data={typeData}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  innerRadius={60}\r\n                  outerRadius={100}\r\n                  paddingAngle={5}\r\n                  dataKey=\"count\"\r\n                  label={(entry) => `${entry.type}: ${entry.count}`}\r\n                >\r\n                  {typeData.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        )}\r\n      </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Charts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}