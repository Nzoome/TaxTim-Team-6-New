{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8000';/**\r\n * Upload and process a crypto transaction file\r\n * @param {File} file - CSV or XLSX file\r\n * @returns {Promise<Object>} Processed transactions and summary\r\n */export const uploadTransactionFile=async file=>{const formData=new FormData();formData.append('file',file);try{const response=await axios.post(\"\".concat(API_BASE_URL),formData,{headers:{'Content-Type':'multipart/form-data'}});return response.data;}catch(error){console.error('Upload error:',error);if(error.response&&error.response.data){throw error.response.data;}throw{success:false,error:'Network error. Please check your connection and try again.',errors:{}};}};/**\r\n * Format currency amount for display\r\n */export const formatCurrency=amount=>{return new Intl.NumberFormat('en-ZA',{style:'currency',currency:'ZAR',minimumFractionDigits:2,maximumFractionDigits:2}).format(amount);};/**\r\n * Format crypto amount for display\r\n */export const formatCrypto=function(amount){let decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:8;return parseFloat(amount).toFixed(decimals);};/**\r\n * Format date for display\r\n */export const formatDate=dateString=>{const date=new Date(dateString);return date.toLocaleDateString('en-ZA',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};/**\r\n * Get stored transaction data and analytics\r\n * @returns {Promise<Object>} Transaction data and analytics\r\n */export const getTransactionData=async()=>{try{const response=await axios.get(\"\".concat(API_BASE_URL,\"/transactions\"));return response.data;}catch(error){console.error('Failed to fetch transaction data:',error);if(error.response&&error.response.data){throw error.response.data;}throw{success:false,error:'Failed to fetch transaction data',data:null};}};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","uploadTransactionFile","file","formData","FormData","append","response","post","concat","headers","data","error","console","success","errors","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatCrypto","decimals","arguments","length","undefined","parseFloat","toFixed","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","getTransactionData","get"],"sources":["C:/Users/Baloyi PA/Desktop/TaxTim-Team-6-New/TaxTim-Team-6-New/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n/**\r\n * Upload and process a crypto transaction file\r\n * @param {File} file - CSV or XLSX file\r\n * @returns {Promise<Object>} Processed transactions and summary\r\n */\r\nexport const uploadTransactionFile = async (file) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Upload error:', error);\r\n    if (error.response && error.response.data) {\r\n      throw error.response.data;\r\n    }\r\n    throw {\r\n      success: false,\r\n      error: 'Network error. Please check your connection and try again.',\r\n      errors: {}\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Format currency amount for display\r\n */\r\nexport const formatCurrency = (amount) => {\r\n  return new Intl.NumberFormat('en-ZA', {\r\n    style: 'currency',\r\n    currency: 'ZAR',\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount);\r\n};\r\n\r\n/**\r\n * Format crypto amount for display\r\n */\r\nexport const formatCrypto = (amount, decimals = 8) => {\r\n  return parseFloat(amount).toFixed(decimals);\r\n};\r\n\r\n/**\r\n * Format date for display\r\n */\r\nexport const formatDate = (dateString) => {\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-ZA', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  });\r\n};\r\n\r\n/**\r\n * Get stored transaction data and analytics\r\n * @returns {Promise<Object>} Transaction data and analytics\r\n */\r\nexport const getTransactionData = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}/transactions`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to fetch transaction data:', error);\r\n    if (error.response && error.response.data) {\r\n      throw error.response.data;\r\n    }\r\n    throw {\r\n      success: false,\r\n      error: 'Failed to fetch transaction data',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}