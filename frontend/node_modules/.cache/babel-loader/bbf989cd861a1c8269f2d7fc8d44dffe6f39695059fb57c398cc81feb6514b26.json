{"ast":null,"code":"import React,{useState}from'react';import'./TransactionTableEnhanced.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TransactionTableEnhanced=_ref=>{let{transactions,suspiciousTransactions=[]}=_ref;const[expandedRows,setExpandedRows]=useState(new Set());const[sortConfig,setSortConfig]=useState({key:'date',direction:'desc'});// Create a map of suspicious transactions by line number for quick lookup\nconst suspiciousMap={};suspiciousTransactions.forEach(suspicious=>{if(suspicious.lineNumber){suspiciousMap[suspicious.lineNumber]=suspicious;}});if(!transactions||transactions.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"no-transactions\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No transactions to display with current filters.\"})});}const formatCurrency=amount=>{if(amount===null||amount===undefined)return'-';return new Intl.NumberFormat('en-ZA',{style:'currency',currency:'ZAR',minimumFractionDigits:2,maximumFractionDigits:2}).format(amount);};const formatCrypto=function(amount){let decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:8;if(amount===null||amount===undefined)return'-';return parseFloat(amount).toFixed(decimals).replace(/\\.?0+$/,'');};const formatDate=dateString=>{if(!dateString)return'-';const date=new Date(dateString);return date.toLocaleDateString('en-ZA',{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});};const toggleRow=index=>{const newExpanded=new Set(expandedRows);if(newExpanded.has(index)){newExpanded.delete(index);}else{newExpanded.add(index);}setExpandedRows(newExpanded);};const toggleExpandAll=()=>{if(expandedRows.size>0){setExpandedRows(new Set());}else{setExpandedRows(new Set(transactions.map((_,idx)=>idx)));}};const handleSort=key=>{let direction='asc';if(sortConfig.key===key&&sortConfig.direction==='asc'){direction='desc';}setSortConfig({key,direction});};const sortedTransactions=[...transactions].sort((a,b)=>{const aVal=a[sortConfig.key];const bVal=b[sortConfig.key];if(aVal===bVal)return 0;const comparison=aVal<bVal?-1:1;return sortConfig.direction==='asc'?comparison:-comparison;});const getTypeBadgeClass=type=>{switch(type===null||type===void 0?void 0:type.toUpperCase()){case'BUY':return'badge-buy';case'SELL':return'badge-sell';case'TRADE':case'TRADE_SELL':case'TRADE_BUY':return'badge-trade';default:return'';}};const getSortIcon=key=>{if(sortConfig.key!==key)return'‚áÖ';return sortConfig.direction==='asc'?'‚Üë':'‚Üì';};return/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-table-enhanced\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-header-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Transaction Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm\",onClick:toggleExpandAll,children:expandedRows.size>0?'‚¨Ü Collapse All':'‚¨á Expand All'}),/*#__PURE__*/_jsxs(\"span\",{className:\"transaction-count\",children:[transactions.length,\" transactions\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"transaction-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"expand-header\"}),/*#__PURE__*/_jsxs(\"th\",{className:\"sortable\",onClick:()=>handleSort('date'),children:[\"Date \",getSortIcon('date')]}),/*#__PURE__*/_jsxs(\"th\",{className:\"sortable\",onClick:()=>handleSort('type'),children:[\"Type \",getSortIcon('type')]}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Currency\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),/*#__PURE__*/_jsxs(\"th\",{className:\"sortable\",onClick:()=>handleSort('proceeds'),children:[\"Proceeds \",getSortIcon('proceeds')]}),/*#__PURE__*/_jsxs(\"th\",{className:\"sortable\",onClick:()=>handleSort('costBase'),children:[\"Cost Base \",getSortIcon('costBase')]}),/*#__PURE__*/_jsxs(\"th\",{className:\"sortable\",onClick:()=>handleSort('capitalGain'),children:[\"Gain/Loss \",getSortIcon('capitalGain')]}),/*#__PURE__*/_jsxs(\"th\",{className:\"sortable\",onClick:()=>handleSort('taxYear'),children:[\"Tax Year \",getSortIcon('taxYear')]})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedTransactions.map((tx,index)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:\"transaction-row \".concat(expandedRows.has(index)?'expanded':''),onClick:()=>toggleRow(index),children:[/*#__PURE__*/_jsx(\"td\",{className:\"expand-cell\",children:/*#__PURE__*/_jsx(\"button\",{className:\"expand-btn\",children:expandedRows.has(index)?'‚ñº':'‚ñ∂'})}),/*#__PURE__*/_jsx(\"td\",{className:\"date-cell\",children:formatDate(tx.date)}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(getTypeBadgeClass(tx.type)),children:tx.type})}),/*#__PURE__*/_jsxs(\"td\",{className:\"status-cell\",children:[tx.type==='TRANSFER'&&/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-non-taxable\",title:\"Non-taxable transfer\",children:\"\\uD83D\\uDD04 Non-Taxable\"}),suspiciousMap[tx.lineNumber||tx.originalLineNumber]&&/*#__PURE__*/_jsx(\"span\",{className:\"badge badge-warning\",title:suspiciousMap[tx.lineNumber||tx.originalLineNumber].issues.map(i=>i.description).join(', '),children:\"\\u26A0\\uFE0F Flagged\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"currency-cell\",children:tx.currency}),/*#__PURE__*/_jsx(\"td\",{className:\"amount-cell\",children:formatCrypto(tx.amount)}),/*#__PURE__*/_jsx(\"td\",{className:\"proceeds-cell\",children:tx.proceeds!==null&&tx.proceeds!==undefined?formatCurrency(tx.proceeds):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"cost-cell\",children:tx.costBase!==null&&tx.costBase!==undefined?formatCurrency(tx.costBase):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"gain-cell \".concat(tx.capitalGain>0?'positive':tx.capitalGain<0?'negative':''),children:tx.capitalGain!==null&&tx.capitalGain!==undefined?formatCurrency(tx.capitalGain):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"tax-year-cell\",children:tx.taxYear||'-'})]}),expandedRows.has(index)&&/*#__PURE__*/_jsx(\"tr\",{className:\"expanded-detail-row\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"expanded-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detail-sections\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Transaction Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Line Number:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:tx.lineNumber||'-'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Wallet:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:tx.wallet||'Default'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Fee:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:formatCurrency(tx.fee||0)})]}),tx.totalCost&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Total Cost:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:formatCurrency(tx.totalCost)})]}),tx.costPerUnit&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Cost Per Unit:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:formatCurrency(tx.costPerUnit)})]})]})]}),tx.lotsConsumed&&tx.lotsConsumed.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section fifo-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"FIFO Lots Consumed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"fifo-table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"fifo-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Acquired Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount Used\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cost Per Unit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cost Base\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age (Days)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Wallet\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tx.lotsConsumed.map((lot,idx)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"fifo-row\",children:[/*#__PURE__*/_jsx(\"td\",{children:formatDate(lot.purchaseDate)}),/*#__PURE__*/_jsx(\"td\",{children:formatCrypto(lot.amountConsumed)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(lot.costPerUnit)}),/*#__PURE__*/_jsx(\"td\",{children:formatCurrency(lot.costBase)}),/*#__PURE__*/_jsx(\"td\",{children:lot.ageInDays||'-'}),/*#__PURE__*/_jsx(\"td\",{children:lot.wallet||'-'})]},idx))}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"fifo-total\",children:[/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:formatCurrency(tx.lotsConsumed.reduce((sum,lot)=>sum+lot.costBase,0))})}),/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"fifo-explanation\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"FIFO Method:\"}),\" The oldest lots (First In) are consumed first (First Out) to calculate the cost base for this disposal.\"]})})]}),tx.capitalGain!==null&&tx.capitalGain!==undefined&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section calculation-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Capital Gain Calculation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"calculation-breakdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"calc-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"calc-label\",children:\"Proceeds (after fees):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"calc-value\",children:formatCurrency(tx.proceeds)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calc-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"calc-label\",children:\"Cost Base (FIFO):\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"calc-value\",children:[\"- \",formatCurrency(tx.costBase)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calc-row calc-total\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"calc-label\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Capital Gain/Loss:\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"calc-value \".concat(tx.capitalGain>=0?'positive':'negative'),children:/*#__PURE__*/_jsx(\"strong\",{children:formatCurrency(tx.capitalGain)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calc-row calc-taxable\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"calc-label\",children:\"Taxable (40% inclusion):\"}),/*#__PURE__*/_jsx(\"span\",{className:\"calc-value\",children:formatCurrency(tx.capitalGain>=0?tx.capitalGain*0.4:0)})]})]})]}),suspiciousMap[tx.lineNumber||tx.originalLineNumber]&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section warning-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u26A0\\uFE0F Transaction Flagged for Review\"}),/*#__PURE__*/_jsx(\"div\",{className:\"warning-list\",children:suspiciousMap[tx.lineNumber||tx.originalLineNumber].issues.map((issue,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"warning-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"warning-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"warning-category\",children:issue.category}),/*#__PURE__*/_jsx(\"span\",{className:\"warning-severity \".concat(issue.severity.toLowerCase()),children:issue.severity})]}),/*#__PURE__*/_jsx(\"p\",{className:\"warning-description\",children:issue.description}),issue.recommendation&&/*#__PURE__*/_jsxs(\"p\",{className:\"warning-recommendation\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Recommendation:\"}),\" \",issue.recommendation]})]},idx))})]}),tx.type==='TRANSFER'&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-section transfer-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD04 Transfer Information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"transfer-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-box non-taxable\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info-icon\",children:\"\\u2713\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Non-Taxable Event\"}),/*#__PURE__*/_jsx(\"p\",{children:\"This transfer does not trigger a capital gains tax event. The cost basis is preserved when moving assets between wallets.\"})]})]}),tx.wallet&&tx.wallet.includes('->')&&/*#__PURE__*/_jsxs(\"div\",{className:\"transfer-flow\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"wallet-label\",children:\"From:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"wallet-name\",children:tx.wallet.split('->')[0]}),/*#__PURE__*/_jsx(\"span\",{className:\"arrow\",children:\"\\u2192\"}),/*#__PURE__*/_jsx(\"span\",{className:\"wallet-label\",children:\"To:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"wallet-name\",children:tx.wallet.split('->')[1]})]})]})]})]})})})})]},index))})]})})]});};export default TransactionTableEnhanced;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","TransactionTableEnhanced","_ref","transactions","suspiciousTransactions","expandedRows","setExpandedRows","Set","sortConfig","setSortConfig","key","direction","suspiciousMap","forEach","suspicious","lineNumber","length","className","children","formatCurrency","amount","undefined","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatCrypto","decimals","arguments","parseFloat","toFixed","replace","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","toggleRow","index","newExpanded","has","delete","add","toggleExpandAll","size","map","_","idx","handleSort","sortedTransactions","sort","a","b","aVal","bVal","comparison","getTypeBadgeClass","type","toUpperCase","getSortIcon","onClick","tx","Fragment","concat","title","originalLineNumber","issues","i","description","join","proceeds","costBase","capitalGain","taxYear","colSpan","wallet","fee","totalCost","costPerUnit","lotsConsumed","lot","purchaseDate","amountConsumed","ageInDays","reduce","sum","issue","category","severity","toLowerCase","recommendation","includes","split"],"sources":["C:/Users/Baloyi PA/Desktop/TaxTim-Team-6-New/TaxTim-Team-6-New/frontend/src/components/TransactionTableEnhanced.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './TransactionTableEnhanced.css';\r\n\r\nconst TransactionTableEnhanced = ({ transactions, suspiciousTransactions = [] }) => {\r\n  const [expandedRows, setExpandedRows] = useState(new Set());\r\n  const [sortConfig, setSortConfig] = useState({ key: 'date', direction: 'desc' });\r\n\r\n  // Create a map of suspicious transactions by line number for quick lookup\r\n  const suspiciousMap = {};\r\n  suspiciousTransactions.forEach(suspicious => {\r\n    if (suspicious.lineNumber) {\r\n      suspiciousMap[suspicious.lineNumber] = suspicious;\r\n    }\r\n  });\r\n\r\n  if (!transactions || transactions.length === 0) {\r\n    return (\r\n      <div className=\"no-transactions\">\r\n        <p>No transactions to display with current filters.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatCurrency = (amount) => {\r\n    if (amount === null || amount === undefined) return '-';\r\n    return new Intl.NumberFormat('en-ZA', {\r\n      style: 'currency',\r\n      currency: 'ZAR',\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    }).format(amount);\r\n  };\r\n\r\n  const formatCrypto = (amount, decimals = 8) => {\r\n    if (amount === null || amount === undefined) return '-';\r\n    return parseFloat(amount).toFixed(decimals).replace(/\\.?0+$/, '');\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return '-';\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-ZA', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const toggleRow = (index) => {\r\n    const newExpanded = new Set(expandedRows);\r\n    if (newExpanded.has(index)) {\r\n      newExpanded.delete(index);\r\n    } else {\r\n      newExpanded.add(index);\r\n    }\r\n    setExpandedRows(newExpanded);\r\n  };\r\n\r\n  const toggleExpandAll = () => {\r\n    if (expandedRows.size > 0) {\r\n      setExpandedRows(new Set());\r\n    } else {\r\n      setExpandedRows(new Set(transactions.map((_, idx) => idx)));\r\n    }\r\n  };\r\n\r\n  const handleSort = (key) => {\r\n    let direction = 'asc';\r\n    if (sortConfig.key === key && sortConfig.direction === 'asc') {\r\n      direction = 'desc';\r\n    }\r\n    setSortConfig({ key, direction });\r\n  };\r\n\r\n  const sortedTransactions = [...transactions].sort((a, b) => {\r\n    const aVal = a[sortConfig.key];\r\n    const bVal = b[sortConfig.key];\r\n    \r\n    if (aVal === bVal) return 0;\r\n    \r\n    const comparison = aVal < bVal ? -1 : 1;\r\n    return sortConfig.direction === 'asc' ? comparison : -comparison;\r\n  });\r\n\r\n  const getTypeBadgeClass = (type) => {\r\n    switch (type?.toUpperCase()) {\r\n      case 'BUY':\r\n        return 'badge-buy';\r\n      case 'SELL':\r\n        return 'badge-sell';\r\n      case 'TRADE':\r\n      case 'TRADE_SELL':\r\n      case 'TRADE_BUY':\r\n        return 'badge-trade';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  const getSortIcon = (key) => {\r\n    if (sortConfig.key !== key) return '‚áÖ';\r\n    return sortConfig.direction === 'asc' ? '‚Üë' : '‚Üì';\r\n  };\r\n\r\n  return (\r\n    <div className=\"transaction-table-enhanced\">\r\n      <div className=\"table-header-section\">\r\n        <h2>Transaction Details</h2>\r\n        <div className=\"table-actions\">\r\n          <button className=\"btn btn-secondary btn-sm\" onClick={toggleExpandAll}>\r\n            {expandedRows.size > 0 ? '‚¨Ü Collapse All' : '‚¨á Expand All'}\r\n          </button>\r\n          <span className=\"transaction-count\">{transactions.length} transactions</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"table-wrapper\">\r\n        <table className=\"transaction-table\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"expand-header\"></th>\r\n              <th className=\"sortable\" onClick={() => handleSort('date')}>\r\n                Date {getSortIcon('date')}\r\n              </th>\r\n              <th className=\"sortable\" onClick={() => handleSort('type')}>\r\n                Type {getSortIcon('type')}\r\n              </th>\r\n              <th>Status</th>\r\n              <th>Currency</th>\r\n              <th>Amount</th>\r\n              <th className=\"sortable\" onClick={() => handleSort('proceeds')}>\r\n                Proceeds {getSortIcon('proceeds')}\r\n              </th>\r\n              <th className=\"sortable\" onClick={() => handleSort('costBase')}>\r\n                Cost Base {getSortIcon('costBase')}\r\n              </th>\r\n              <th className=\"sortable\" onClick={() => handleSort('capitalGain')}>\r\n                Gain/Loss {getSortIcon('capitalGain')}\r\n              </th>\r\n              <th className=\"sortable\" onClick={() => handleSort('taxYear')}>\r\n                Tax Year {getSortIcon('taxYear')}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {sortedTransactions.map((tx, index) => (\r\n              <React.Fragment key={index}>\r\n                <tr \r\n                  className={`transaction-row ${expandedRows.has(index) ? 'expanded' : ''}`}\r\n                  onClick={() => toggleRow(index)}\r\n                >\r\n                  <td className=\"expand-cell\">\r\n                    <button className=\"expand-btn\">\r\n                      {expandedRows.has(index) ? '‚ñº' : '‚ñ∂'}\r\n                    </button>\r\n                  </td>\r\n                  <td className=\"date-cell\">{formatDate(tx.date)}</td>\r\n                  <td>\r\n                    <span className={`badge ${getTypeBadgeClass(tx.type)}`}>\r\n                      {tx.type}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"status-cell\">\r\n                    {tx.type === 'TRANSFER' && (\r\n                      <span className=\"badge badge-non-taxable\" title=\"Non-taxable transfer\">\r\n                        üîÑ Non-Taxable\r\n                      </span>\r\n                    )}\r\n                    {suspiciousMap[tx.lineNumber || tx.originalLineNumber] && (\r\n                      <span \r\n                        className=\"badge badge-warning\" \r\n                        title={suspiciousMap[tx.lineNumber || tx.originalLineNumber].issues.map(i => i.description).join(', ')}\r\n                      >\r\n                        ‚ö†Ô∏è Flagged\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"currency-cell\">{tx.currency}</td>\r\n                  <td className=\"amount-cell\">{formatCrypto(tx.amount)}</td>\r\n                  <td className=\"proceeds-cell\">\r\n                    {tx.proceeds !== null && tx.proceeds !== undefined \r\n                      ? formatCurrency(tx.proceeds) \r\n                      : '-'}\r\n                  </td>\r\n                  <td className=\"cost-cell\">\r\n                    {tx.costBase !== null && tx.costBase !== undefined \r\n                      ? formatCurrency(tx.costBase) \r\n                      : '-'}\r\n                  </td>\r\n                  <td className={`gain-cell ${\r\n                    tx.capitalGain > 0 ? 'positive' : \r\n                    tx.capitalGain < 0 ? 'negative' : ''\r\n                  }`}>\r\n                    {tx.capitalGain !== null && tx.capitalGain !== undefined \r\n                      ? formatCurrency(tx.capitalGain) \r\n                      : '-'}\r\n                  </td>\r\n                  <td className=\"tax-year-cell\">{tx.taxYear || '-'}</td>\r\n                </tr>\r\n\r\n                {expandedRows.has(index) && (\r\n                  <tr className=\"expanded-detail-row\">\r\n                    <td colSpan=\"10\">\r\n                      <div className=\"expanded-content\">\r\n                        <div className=\"detail-sections\">\r\n                          {/* Basic Details */}\r\n                          <div className=\"detail-section\">\r\n                            <h4>Transaction Details</h4>\r\n                            <div className=\"detail-grid\">\r\n                              <div className=\"detail-item\">\r\n                                <span className=\"detail-label\">Line Number:</span>\r\n                                <span className=\"detail-value\">{tx.lineNumber || '-'}</span>\r\n                              </div>\r\n                              <div className=\"detail-item\">\r\n                                <span className=\"detail-label\">Wallet:</span>\r\n                                <span className=\"detail-value\">{tx.wallet || 'Default'}</span>\r\n                              </div>\r\n                              <div className=\"detail-item\">\r\n                                <span className=\"detail-label\">Fee:</span>\r\n                                <span className=\"detail-value\">{formatCurrency(tx.fee || 0)}</span>\r\n                              </div>\r\n                              {tx.totalCost && (\r\n                                <div className=\"detail-item\">\r\n                                  <span className=\"detail-label\">Total Cost:</span>\r\n                                  <span className=\"detail-value\">{formatCurrency(tx.totalCost)}</span>\r\n                                </div>\r\n                              )}\r\n                              {tx.costPerUnit && (\r\n                                <div className=\"detail-item\">\r\n                                  <span className=\"detail-label\">Cost Per Unit:</span>\r\n                                  <span className=\"detail-value\">{formatCurrency(tx.costPerUnit)}</span>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* FIFO Lots Consumed (for SELL/TRADE) */}\r\n                          {tx.lotsConsumed && tx.lotsConsumed.length > 0 && (\r\n                            <div className=\"detail-section fifo-section\">\r\n                              <h4>FIFO Lots Consumed</h4>\r\n                              <div className=\"fifo-table-wrapper\">\r\n                                <table className=\"fifo-table\">\r\n                                  <thead>\r\n                                    <tr>\r\n                                      <th>Acquired Date</th>\r\n                                      <th>Amount Used</th>\r\n                                      <th>Cost Per Unit</th>\r\n                                      <th>Cost Base</th>\r\n                                      <th>Age (Days)</th>\r\n                                      <th>Wallet</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    {tx.lotsConsumed.map((lot, idx) => (\r\n                                      <tr key={idx} className=\"fifo-row\">\r\n                                        <td>{formatDate(lot.purchaseDate)}</td>\r\n                                        <td>{formatCrypto(lot.amountConsumed)}</td>\r\n                                        <td>{formatCurrency(lot.costPerUnit)}</td>\r\n                                        <td>{formatCurrency(lot.costBase)}</td>\r\n                                        <td>{lot.ageInDays || '-'}</td>\r\n                                        <td>{lot.wallet || '-'}</td>\r\n                                      </tr>\r\n                                    ))}\r\n                                  </tbody>\r\n                                  <tfoot>\r\n                                    <tr className=\"fifo-total\">\r\n                                      <td colSpan=\"3\"><strong>Total:</strong></td>\r\n                                      <td>\r\n                                        <strong>\r\n                                          {formatCurrency(\r\n                                            tx.lotsConsumed.reduce((sum, lot) => sum + lot.costBase, 0)\r\n                                          )}\r\n                                        </strong>\r\n                                      </td>\r\n                                      <td colSpan=\"2\"></td>\r\n                                    </tr>\r\n                                  </tfoot>\r\n                                </table>\r\n                              </div>\r\n                              <div className=\"fifo-explanation\">\r\n                                <p>\r\n                                  <strong>FIFO Method:</strong> The oldest lots (First In) are consumed first (First Out) \r\n                                  to calculate the cost base for this disposal.\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Capital Gain Calculation (for SELL/TRADE) */}\r\n                          {tx.capitalGain !== null && tx.capitalGain !== undefined && (\r\n                            <div className=\"detail-section calculation-section\">\r\n                              <h4>Capital Gain Calculation</h4>\r\n                              <div className=\"calculation-breakdown\">\r\n                                <div className=\"calc-row\">\r\n                                  <span className=\"calc-label\">Proceeds (after fees):</span>\r\n                                  <span className=\"calc-value\">{formatCurrency(tx.proceeds)}</span>\r\n                                </div>\r\n                                <div className=\"calc-row\">\r\n                                  <span className=\"calc-label\">Cost Base (FIFO):</span>\r\n                                  <span className=\"calc-value\">- {formatCurrency(tx.costBase)}</span>\r\n                                </div>\r\n                                <div className=\"calc-row calc-total\">\r\n                                  <span className=\"calc-label\"><strong>Capital Gain/Loss:</strong></span>\r\n                                  <span className={`calc-value ${tx.capitalGain >= 0 ? 'positive' : 'negative'}`}>\r\n                                    <strong>{formatCurrency(tx.capitalGain)}</strong>\r\n                                  </span>\r\n                                </div>\r\n                                <div className=\"calc-row calc-taxable\">\r\n                                  <span className=\"calc-label\">Taxable (40% inclusion):</span>\r\n                                  <span className=\"calc-value\">\r\n                                    {formatCurrency(tx.capitalGain >= 0 ? tx.capitalGain * 0.4 : 0)}\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Suspicious Transaction Warnings */}\r\n                          {suspiciousMap[tx.lineNumber || tx.originalLineNumber] && (\r\n                            <div className=\"detail-section warning-section\">\r\n                              <h4>‚ö†Ô∏è Transaction Flagged for Review</h4>\r\n                              <div className=\"warning-list\">\r\n                                {suspiciousMap[tx.lineNumber || tx.originalLineNumber].issues.map((issue, idx) => (\r\n                                  <div key={idx} className=\"warning-item\">\r\n                                    <div className=\"warning-header\">\r\n                                      <span className=\"warning-category\">{issue.category}</span>\r\n                                      <span className={`warning-severity ${issue.severity.toLowerCase()}`}>\r\n                                        {issue.severity}\r\n                                      </span>\r\n                                    </div>\r\n                                    <p className=\"warning-description\">{issue.description}</p>\r\n                                    {issue.recommendation && (\r\n                                      <p className=\"warning-recommendation\">\r\n                                        <strong>Recommendation:</strong> {issue.recommendation}\r\n                                      </p>\r\n                                    )}\r\n                                  </div>\r\n                                ))}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Transfer Information */}\r\n                          {tx.type === 'TRANSFER' && (\r\n                            <div className=\"detail-section transfer-section\">\r\n                              <h4>üîÑ Transfer Information</h4>\r\n                              <div className=\"transfer-info\">\r\n                                <div className=\"info-box non-taxable\">\r\n                                  <div className=\"info-icon\">‚úì</div>\r\n                                  <div className=\"info-content\">\r\n                                    <strong>Non-Taxable Event</strong>\r\n                                    <p>This transfer does not trigger a capital gains tax event. The cost basis is preserved when moving assets between wallets.</p>\r\n                                  </div>\r\n                                </div>\r\n                                {tx.wallet && tx.wallet.includes('->') && (\r\n                                  <div className=\"transfer-flow\">\r\n                                    <span className=\"wallet-label\">From:</span>\r\n                                    <span className=\"wallet-name\">{tx.wallet.split('->')[0]}</span>\r\n                                    <span className=\"arrow\">‚Üí</span>\r\n                                    <span className=\"wallet-label\">To:</span>\r\n                                    <span className=\"wallet-name\">{tx.wallet.split('->')[1]}</span>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </React.Fragment>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionTableEnhanced;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}