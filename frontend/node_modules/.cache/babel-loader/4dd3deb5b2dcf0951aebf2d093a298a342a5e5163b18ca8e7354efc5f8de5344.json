{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\n/**\r\n * Upload and process a crypto transaction file\r\n * @param {File} file - CSV or XLSX file\r\n * @returns {Promise<Object>} Processed transactions and summary\r\n */\nexport const uploadTransactionFile = async file => {\n  const formData = new FormData();\n  formData.append('file', file);\n  try {\n    const response = await axios.post(`${API_BASE_URL}`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Upload error:', error);\n    if (error.response && error.response.data) {\n      throw error.response.data;\n    }\n    throw {\n      success: false,\n      error: 'Network error. Please check your connection and try again.',\n      errors: {}\n    };\n  }\n};\n\n/**\r\n * Format currency amount for display\r\n */\nexport const formatCurrency = amount => {\n  return new Intl.NumberFormat('en-ZA', {\n    style: 'currency',\n    currency: 'ZAR',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).format(amount);\n};\n\n/**\r\n * Format crypto amount for display\r\n */\nexport const formatCrypto = (amount, decimals = 8) => {\n  return parseFloat(amount).toFixed(decimals);\n};\n\n/**\r\n * Format date for display\r\n */\nexport const formatDate = dateString => {\n  const date = new Date(dateString);\n  return date.toLocaleDateString('en-ZA', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n};\n\n/**\r\n * Get stored transaction data and analytics\r\n * @returns {Promise<Object>} Transaction data and analytics\r\n */\nexport const getTransactionData = async () => {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/transactions`);\n    return response.data;\n  } catch (error) {\n    console.error('Failed to fetch transaction data:', error);\n    if (error.response && error.response.data) {\n      throw error.response.data;\n    }\n    throw {\n      success: false,\n      error: 'Failed to fetch transaction data',\n      data: null\n    };\n  }\n};","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","uploadTransactionFile","file","formData","FormData","append","response","post","headers","data","error","console","success","errors","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","formatCrypto","decimals","parseFloat","toFixed","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","getTransactionData","get"],"sources":["C:/Users/Baloyi PA/Desktop/TaxTim-Team-6-New/TaxTim-Team-6-New/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n/**\r\n * Upload and process a crypto transaction file\r\n * @param {File} file - CSV or XLSX file\r\n * @returns {Promise<Object>} Processed transactions and summary\r\n */\r\nexport const uploadTransactionFile = async (file) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n\r\n  try {\r\n    const response = await axios.post(`${API_BASE_URL}`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Upload error:', error);\r\n    if (error.response && error.response.data) {\r\n      throw error.response.data;\r\n    }\r\n    throw {\r\n      success: false,\r\n      error: 'Network error. Please check your connection and try again.',\r\n      errors: {}\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Format currency amount for display\r\n */\r\nexport const formatCurrency = (amount) => {\r\n  return new Intl.NumberFormat('en-ZA', {\r\n    style: 'currency',\r\n    currency: 'ZAR',\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  }).format(amount);\r\n};\r\n\r\n/**\r\n * Format crypto amount for display\r\n */\r\nexport const formatCrypto = (amount, decimals = 8) => {\r\n  return parseFloat(amount).toFixed(decimals);\r\n};\r\n\r\n/**\r\n * Format date for display\r\n */\r\nexport const formatDate = (dateString) => {\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString('en-ZA', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  });\r\n};\r\n\r\n/**\r\n * Get stored transaction data and analytics\r\n * @returns {Promise<Object>} Transaction data and analytics\r\n */\r\nexport const getTransactionData = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_BASE_URL}/transactions`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Failed to fetch transaction data:', error);\r\n    if (error.response && error.response.data) {\r\n      throw error.response.data;\r\n    }\r\n    throw {\r\n      success: false,\r\n      error: 'Failed to fetch transaction data',\r\n      data: null\r\n    };\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;;AAE7E;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,qBAAqB,GAAG,MAAOC,IAAI,IAAK;EACnD,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAE7B,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAC,GAAGV,YAAY,EAAE,EAAEM,QAAQ,EAAE;MAC7DK,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEF,OAAOF,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACrC,IAAIA,KAAK,CAACJ,QAAQ,IAAII,KAAK,CAACJ,QAAQ,CAACG,IAAI,EAAE;MACzC,MAAMC,KAAK,CAACJ,QAAQ,CAACG,IAAI;IAC3B;IACA,MAAM;MACJG,OAAO,EAAE,KAAK;MACdF,KAAK,EAAE,4DAA4D;MACnEG,MAAM,EAAE,CAAC;IACX,CAAC;EACH;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMC,cAAc,GAAIC,MAAM,IAAK;EACxC,OAAO,IAAIC,IAAI,CAACC,YAAY,CAAC,OAAO,EAAE;IACpCC,KAAK,EAAE,UAAU;IACjBC,QAAQ,EAAE,KAAK;IACfC,qBAAqB,EAAE,CAAC;IACxBC,qBAAqB,EAAE;EACzB,CAAC,CAAC,CAACC,MAAM,CAACP,MAAM,CAAC;AACnB,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMQ,YAAY,GAAGA,CAACR,MAAM,EAAES,QAAQ,GAAG,CAAC,KAAK;EACpD,OAAOC,UAAU,CAACV,MAAM,CAAC,CAACW,OAAO,CAACF,QAAQ,CAAC;AAC7C,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,UAAU,GAAIC,UAAU,IAAK;EACxC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;EACjC,OAAOC,IAAI,CAACE,kBAAkB,CAAC,OAAO,EAAE;IACtCC,IAAI,EAAE,SAAS;IACfC,KAAK,EAAE,OAAO;IACdC,GAAG,EAAE,SAAS;IACdC,IAAI,EAAE,SAAS;IACfC,MAAM,EAAE;EACV,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMC,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC5C,IAAI;IACF,MAAM/B,QAAQ,GAAG,MAAMV,KAAK,CAAC0C,GAAG,CAAC,GAAGzC,YAAY,eAAe,CAAC;IAChE,OAAOS,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IACzD,IAAIA,KAAK,CAACJ,QAAQ,IAAII,KAAK,CAACJ,QAAQ,CAACG,IAAI,EAAE;MACzC,MAAMC,KAAK,CAACJ,QAAQ,CAACG,IAAI;IAC3B;IACA,MAAM;MACJG,OAAO,EAAE,KAAK;MACdF,KAAK,EAAE,kCAAkC;MACzCD,IAAI,EAAE;IACR,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}