{"ast":null,"code":"import React,{useState}from'react';import{generatePDF}from'../services/pdfGenerator';import{generateExcel}from'../services/excelGenerator';import'./ExportButtons.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ExportButtons=_ref=>{let{transactions,summary,filters}=_ref;const[isGeneratingPDF,setIsGeneratingPDF]=useState(false);const[isGeneratingExcel,setIsGeneratingExcel]=useState(false);const handlePDFExport=async()=>{setIsGeneratingPDF(true);try{await generatePDF(transactions,summary,filters);}catch(error){console.error('Error generating PDF:',error);alert('Failed to generate PDF. Please try again.');}finally{setIsGeneratingPDF(false);}};const handleExcelExport=async()=>{setIsGeneratingExcel(true);try{await generateExcel(transactions,summary,filters);}catch(error){console.error('Error generating Excel:',error);alert('Failed to generate Excel file. Please try again.');}finally{setIsGeneratingExcel(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"export-buttons-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"export-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Export Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"export-description\",children:\"Generate SARS-ready audit reports for your tax submissions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"export-buttons-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"export-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"export-card-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"export-card-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"PDF Audit Report\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Comprehensive audit report with complete FIFO breakdown, tax calculations, and transaction details suitable for SARS submission.\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"export-features\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Summary of capital gains/losses\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Transaction-by-transaction breakdown\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 FIFO lot consumption details\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Tax year allocation\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-export btn-pdf\",onClick:handlePDFExport,disabled:isGeneratingPDF||!transactions||transactions.length===0,children:isGeneratingPDF?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-small\"}),\"Generating PDF...\"]}):/*#__PURE__*/_jsx(_Fragment,{children:\"Download PDF Report\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"export-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"export-card-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"export-card-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Excel Spreadsheet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Detailed spreadsheet with all transaction data, FIFO calculations, and summary statistics for further analysis and record-keeping.\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"export-features\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 All transaction data\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Capital gains calculations\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Multiple worksheets (Summary, Transactions, Lots)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2713 Easy filtering and sorting\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-export btn-excel\",onClick:handleExcelExport,disabled:isGeneratingExcel||!transactions||transactions.length===0,children:isGeneratingExcel?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner-small\"}),\"Generating Excel...\"]}):/*#__PURE__*/_jsx(_Fragment,{children:\"Download Excel File\"})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sars-notice\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"notice-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"notice-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Important Notice for SARS Submission\"}),/*#__PURE__*/_jsx(\"p\",{children:\"These reports are designed to assist with your South African tax return preparation. Always consult with a registered tax professional or accountant before submitting to SARS.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"The 40% inclusion rate for individuals is automatically calculated. Companies and trusts may have different rates. Annual exclusions (R40,000 for individuals) are NOT automatically applied and should be handled by your tax professional.\"})]})]})]});};export default ExportButtons;","map":{"version":3,"names":["React","useState","generatePDF","generateExcel","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ExportButtons","_ref","transactions","summary","filters","isGeneratingPDF","setIsGeneratingPDF","isGeneratingExcel","setIsGeneratingExcel","handlePDFExport","error","console","alert","handleExcelExport","className","children","onClick","disabled","length"],"sources":["C:/Users/Baloyi PA/Desktop/TaxTim-Team-6-New/TaxTim-Team-6-New/frontend/src/components/ExportButtons.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { generatePDF } from '../services/pdfGenerator';\r\nimport { generateExcel } from '../services/excelGenerator';\r\nimport './ExportButtons.css';\r\n\r\nconst ExportButtons = ({ transactions, summary, filters }) => {\r\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\r\n  const [isGeneratingExcel, setIsGeneratingExcel] = useState(false);\r\n\r\n  const handlePDFExport = async () => {\r\n    setIsGeneratingPDF(true);\r\n    try {\r\n      await generatePDF(transactions, summary, filters);\r\n    } catch (error) {\r\n      console.error('Error generating PDF:', error);\r\n      alert('Failed to generate PDF. Please try again.');\r\n    } finally {\r\n      setIsGeneratingPDF(false);\r\n    }\r\n  };\r\n\r\n  const handleExcelExport = async () => {\r\n    setIsGeneratingExcel(true);\r\n    try {\r\n      await generateExcel(transactions, summary, filters);\r\n    } catch (error) {\r\n      console.error('Error generating Excel:', error);\r\n      alert('Failed to generate Excel file. Please try again.');\r\n    } finally {\r\n      setIsGeneratingExcel(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"export-buttons-section\">\r\n      <div className=\"export-header\">\r\n        <h3>Export Reports</h3>\r\n        <p className=\"export-description\">\r\n          Generate SARS-ready audit reports for your tax submissions\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"export-buttons-grid\">\r\n        {/* PDF Export */}\r\n        <div className=\"export-card\">\r\n          <div className=\"export-card-icon\"></div>\r\n          <div className=\"export-card-content\">\r\n            <h4>PDF Audit Report</h4>\r\n            <p>\r\n              Comprehensive audit report with complete FIFO breakdown, \r\n              tax calculations, and transaction details suitable for SARS submission.\r\n            </p>\r\n            <ul className=\"export-features\">\r\n              <li>✓ Summary of capital gains/losses</li>\r\n              <li>✓ Transaction-by-transaction breakdown</li>\r\n              <li>✓ FIFO lot consumption details</li>\r\n              <li>✓ Tax year allocation</li>\r\n            </ul>\r\n            <button\r\n              className=\"btn btn-export btn-pdf\"\r\n              onClick={handlePDFExport}\r\n              disabled={isGeneratingPDF || !transactions || transactions.length === 0}\r\n            >\r\n              {isGeneratingPDF ? (\r\n                <>\r\n                  <span className=\"spinner-small\"></span>\r\n                  Generating PDF...\r\n                </>\r\n              ) : (\r\n                <>Download PDF Report</>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Excel Export */}\r\n        <div className=\"export-card\">\r\n          <div className=\"export-card-icon\"></div>\r\n          <div className=\"export-card-content\">\r\n            <h4>Excel Spreadsheet</h4>\r\n            <p>\r\n              Detailed spreadsheet with all transaction data, FIFO calculations, \r\n              and summary statistics for further analysis and record-keeping.\r\n            </p>\r\n            <ul className=\"export-features\">\r\n              <li>✓ All transaction data</li>\r\n              <li>✓ Capital gains calculations</li>\r\n              <li>✓ Multiple worksheets (Summary, Transactions, Lots)</li>\r\n              <li>✓ Easy filtering and sorting</li>\r\n            </ul>\r\n            <button\r\n              className=\"btn btn-export btn-excel\"\r\n              onClick={handleExcelExport}\r\n              disabled={isGeneratingExcel || !transactions || transactions.length === 0}\r\n            >\r\n              {isGeneratingExcel ? (\r\n                <>\r\n                  <span className=\"spinner-small\"></span>\r\n                  Generating Excel...\r\n                </>\r\n              ) : (\r\n                <>Download Excel File</>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* SARS Notice */}\r\n      <div className=\"sars-notice\">\r\n        <div className=\"notice-icon\">⚠️</div>\r\n        <div className=\"notice-content\">\r\n          <h4>Important Notice for SARS Submission</h4>\r\n          <p>\r\n            These reports are designed to assist with your South African tax return preparation. \r\n            Always consult with a registered tax professional or accountant before submitting to SARS.\r\n          </p>\r\n          <p>\r\n            The 40% inclusion rate for individuals is automatically calculated. Companies and trusts \r\n            may have different rates. Annual exclusions (R40,000 for individuals) are NOT automatically \r\n            applied and should be handled by your tax professional.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExportButtons;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}