{"ast":null,"code":"import React,{useState}from'react';import'./FileUpload.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=_ref=>{let{onUpload,isLoading}=_ref;const[dragActive,setDragActive]=useState(false);const[selectedFile,setSelectedFile]=useState(null);const handleDrag=e=>{e.preventDefault();e.stopPropagation();if(e.type===\"dragenter\"||e.type===\"dragover\"){setDragActive(true);}else if(e.type===\"dragleave\"){setDragActive(false);}};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);if(e.dataTransfer.files&&e.dataTransfer.files[0]){handleFile(e.dataTransfer.files[0]);}};const handleChange=e=>{e.preventDefault();if(e.target.files&&e.target.files[0]){handleFile(e.target.files[0]);}};const handleFile=file=>{// Validate file type\nconst validTypes=['text/csv','application/vnd.ms-excel','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'];if(!validTypes.includes(file.type)&&!file.name.endsWith('.csv')&&!file.name.endsWith('.xlsx')&&!file.name.endsWith('.xls')){alert('Please upload a CSV or XLSX file');return;}setSelectedFile(file);};const handleUpload=()=>{if(selectedFile){onUpload(selectedFile);}};const handleClear=()=>{setSelectedFile(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-area \".concat(dragActive?'drag-active':'',\" \").concat(selectedFile?'file-selected':''),onDragEnter:handleDrag,onDragLeave:handleDrag,onDragOver:handleDrag,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file-input\",accept:\".csv,.xlsx,.xls\",onChange:handleChange,style:{display:'none'},disabled:isLoading}),!selectedFile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Upload Your Transaction File\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Drag and drop your CSV or XLSX file here\"}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-or\",children:\"or\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-input\",className:\"btn btn-secondary\",children:\"Browse Files\"}),/*#__PURE__*/_jsx(\"p\",{className:\"upload-hint\",children:\"Supported formats: CSV, XLSX\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"File Ready to Process\"}),/*#__PURE__*/_jsx(\"p\",{className:\"file-name\",children:selectedFile.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"file-size\",children:[(selectedFile.size/1024).toFixed(2),\" KB\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleUpload,disabled:isLoading,children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),\"Processing...\"]}):'Calculate Taxes'}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleClear,disabled:isLoading,children:\"Change File\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-format-help\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB Required File Format\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your file must include these columns:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date\"}),\" - Transaction date\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type\"}),\" - BUY, SELL, or TRADE\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"From Currency\"}),\" - Source currency (e.g., ZAR, BTC)\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"From Amount\"}),\" - Amount of source currency\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"To Currency\"}),\" - Destination currency\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"To Amount\"}),\" - Amount of destination currency\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Price\"}),\" - Price per unit in ZAR\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fee\"}),\" - Transaction fee (optional)\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Wallet\"}),\" - Wallet identifier (optional)\"]})]})]})]});};export default FileUpload;","map":{"version":3,"names":["React","useState","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FileUpload","_ref","onUpload","isLoading","dragActive","setDragActive","selectedFile","setSelectedFile","handleDrag","e","preventDefault","stopPropagation","type","handleDrop","dataTransfer","files","handleFile","handleChange","target","file","validTypes","includes","name","endsWith","alert","handleUpload","handleClear","className","children","concat","onDragEnter","onDragLeave","onDragOver","onDrop","id","accept","onChange","style","display","disabled","htmlFor","size","toFixed","onClick"],"sources":["C:/Users/Baloyi PA/Desktop/TaxTim-Team-6-New/TaxTim-Team-6-New/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './FileUpload.css';\r\n\r\nconst FileUpload = ({ onUpload, isLoading }) => {\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  const handleDrag = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\r\n      setDragActive(true);\r\n    } else if (e.type === \"dragleave\") {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setDragActive(false);\r\n\r\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\r\n      handleFile(e.dataTransfer.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    e.preventDefault();\r\n    if (e.target.files && e.target.files[0]) {\r\n      handleFile(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleFile = (file) => {\r\n    // Validate file type\r\n    const validTypes = [\r\n      'text/csv',\r\n      'application/vnd.ms-excel',\r\n      'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'\r\n    ];\r\n    \r\n    if (!validTypes.includes(file.type) && \r\n        !file.name.endsWith('.csv') && \r\n        !file.name.endsWith('.xlsx') && \r\n        !file.name.endsWith('.xls')) {\r\n      alert('Please upload a CSV or XLSX file');\r\n      return;\r\n    }\r\n\r\n    setSelectedFile(file);\r\n  };\r\n\r\n  const handleUpload = () => {\r\n    if (selectedFile) {\r\n      onUpload(selectedFile);\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setSelectedFile(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"file-upload-container\">\r\n      <div \r\n        className={`file-upload-area ${dragActive ? 'drag-active' : ''} ${selectedFile ? 'file-selected' : ''}`}\r\n        onDragEnter={handleDrag}\r\n        onDragLeave={handleDrag}\r\n        onDragOver={handleDrag}\r\n        onDrop={handleDrop}\r\n      >\r\n        <input\r\n          type=\"file\"\r\n          id=\"file-input\"\r\n          accept=\".csv,.xlsx,.xls\"\r\n          onChange={handleChange}\r\n          style={{ display: 'none' }}\r\n          disabled={isLoading}\r\n        />\r\n        \r\n        {!selectedFile ? (\r\n          <>\r\n            <div className=\"upload-icon\">üìÅ</div>\r\n            <h3>Upload Your Transaction File</h3>\r\n            <p>Drag and drop your CSV or XLSX file here</p>\r\n            <p className=\"upload-or\">or</p>\r\n            <label htmlFor=\"file-input\" className=\"btn btn-secondary\">\r\n              Browse Files\r\n            </label>\r\n            <p className=\"upload-hint\">Supported formats: CSV, XLSX</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"upload-icon\">‚úÖ</div>\r\n            <h3>File Ready to Process</h3>\r\n            <p className=\"file-name\">{selectedFile.name}</p>\r\n            <p className=\"file-size\">\r\n              {(selectedFile.size / 1024).toFixed(2)} KB\r\n            </p>\r\n            <div className=\"upload-actions\">\r\n              <button \r\n                className=\"btn btn-primary\" \r\n                onClick={handleUpload}\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? (\r\n                  <>\r\n                    <div className=\"spinner\"></div>\r\n                    Processing...\r\n                  </>\r\n                ) : (\r\n                  'Calculate Taxes'\r\n                )}\r\n              </button>\r\n              <button \r\n                className=\"btn btn-secondary\" \r\n                onClick={handleClear}\r\n                disabled={isLoading}\r\n              >\r\n                Change File\r\n              </button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"file-format-help\">\r\n        <h4>üìã Required File Format</h4>\r\n        <p>Your file must include these columns:</p>\r\n        <ul>\r\n          <li><strong>Date</strong> - Transaction date</li>\r\n          <li><strong>Type</strong> - BUY, SELL, or TRADE</li>\r\n          <li><strong>From Currency</strong> - Source currency (e.g., ZAR, BTC)</li>\r\n          <li><strong>From Amount</strong> - Amount of source currency</li>\r\n          <li><strong>To Currency</strong> - Destination currency</li>\r\n          <li><strong>To Amount</strong> - Amount of destination currency</li>\r\n          <li><strong>Price</strong> - Price per unit in ZAR</li>\r\n          <li><strong>Fee</strong> - Transaction fee (optional)</li>\r\n          <li><strong>Wallet</strong> - Wallet identifier (optional)</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}